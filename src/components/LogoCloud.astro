---
import type { ImageMetadata } from "astro";

type Logo = {
  name: string;
  rawSvg?: string;
  style?: string;
  src?: string | ImageMetadata;
  href?: string;
};

import BERKELEY_LOGO from "../assets/images/logos/berkeley.svg?raw";
import GVSU_LOGO from "../assets/images/logos/gvsu.svg?raw";
import HARVARD_LOGO from "../assets/images/logos/harvard.svg?raw";
import TESLA_LOGO from "../assets/images/logos/tesla.svg?raw";
import MICROSOFT_LOGO from "../assets/images/logos/microsoft.svg?raw";
import UW_LOGO from "../assets/images/logos/washington.svg?raw";

const logos: Logo[] = [
  { name: "Microsoft", rawSvg: MICROSOFT_LOGO, style: "h-6" },
  { name: "Tesla", rawSvg: TESLA_LOGO,  style: "h-4"},
  { name: "Harvard", rawSvg: HARVARD_LOGO, style: "h-7" },
  { name: "University of Washington", rawSvg: UW_LOGO,  style: "h-7" },
  { name: "GVSU", rawSvg: GVSU_LOGO, style: "h-8" },
  { name: "Berkeley", rawSvg: BERKELEY_LOGO , style: "h-6"},
];

// Mobile cap: 6 logos is a great default.
// If you have more logos, keep the rest for md+ with conditional rendering (see below).
const mobileMax = 6;
const mobileLogos = logos.slice(0, mobileMax);
---

<section class="px-6">
  <div class="card card-lg gap-6 text-center">
    <h2 class="card-title w-full justify-center">Engineered & mentored at</h2>
    <div class="text-base-content/90 grid grid-cols-2 gap-8 justify-center items-center">
      {
        mobileLogos.map((logo) => (
          <div
            class=`opacity-90 flex place-content-center ${logo.style}`
            aria-label={logo.name}
          >
            {logo.rawSvg ? (
              <span class="block [&>svg]:h-full h-full">
                <Fragment set:html={logo.rawSvg} />
              </span>
            ) : (
              <img
                src={typeof logo.src === "string" ? logo.src : logo.src?.src}
                alt={logo.name}
                class="flex w-full justify-center transition group-hover:opacity-0"
                loading="lazy"
                decoding="async"
              />
            )}
          </div>
        ))
      }
    </div>
  </div>
</section>
